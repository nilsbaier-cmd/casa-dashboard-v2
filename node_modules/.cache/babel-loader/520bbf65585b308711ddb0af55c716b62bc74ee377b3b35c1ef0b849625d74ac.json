{"ast":null,"code":"import { BufferGeometry, Float32BufferAttribute } from 'three';\nimport { flatten } from 'earcut';\nimport { geoDistance, geoInterpolate } from 'd3-geo';\nimport { interpolateNumber } from 'd3-interpolate';\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return _arrayLikeToArray(r);\n}\nfunction _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nfunction _callSuper(t, o, e) {\n  return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, [], _getPrototypeOf(t).constructor) : o.apply(t, e));\n}\nfunction _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nfunction _createClass(e, r, t) {\n  return Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nfunction _createForOfIteratorHelper(r, e) {\n  var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (!t) {\n    if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e) {\n      t && (r = t);\n      var n = 0,\n        F = function () {};\n      return {\n        s: F,\n        n: function () {\n          return n >= r.length ? {\n            done: !0\n          } : {\n            done: !1,\n            value: r[n++]\n          };\n        },\n        e: function (r) {\n          throw r;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var o,\n    a = !0,\n    u = !1;\n  return {\n    s: function () {\n      t = t.call(r);\n    },\n    n: function () {\n      var r = t.next();\n      return a = r.done, r;\n    },\n    e: function (r) {\n      u = !0, o = r;\n    },\n    f: function () {\n      try {\n        a || null == t.return || t.return();\n      } finally {\n        if (u) throw o;\n      }\n    }\n  };\n}\nfunction _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && _setPrototypeOf(t, e);\n}\nfunction _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function () {\n    return !!t;\n  })();\n}\nfunction _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == typeof e || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return _assertThisInitialized(t);\n}\nfunction _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\nfunction _toConsumableArray(r) {\n  return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread();\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\nvar interpolateLine = function interpolateLine() {\n  var lineCoords = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var maxDegDistance = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var result = [];\n  var prevPnt = null;\n  lineCoords.forEach(function (pnt) {\n    if (prevPnt) {\n      var dist = geoDistance(pnt, prevPnt) * 180 / Math.PI;\n      if (dist > maxDegDistance) {\n        var geoInterpol = geoInterpolate(prevPnt, pnt);\n        var altInterpol = prevPnt.length > 2 || pnt.length > 2 ? interpolateNumber(prevPnt[2] || 0, pnt[2] || 0) : null;\n        var interpol = altInterpol ? function (t) {\n          return [].concat(_toConsumableArray(geoInterpol(t)), [altInterpol(t)]);\n        } : geoInterpol;\n        var tStep = 1 / Math.ceil(dist / maxDegDistance);\n        var t = tStep;\n        while (t < 1) {\n          result.push(interpol(t));\n          t += tStep;\n        }\n      }\n    }\n    result.push(prevPnt = pnt);\n  });\n  return result;\n};\nvar THREE = typeof window !== 'undefined' && window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  BufferGeometry: BufferGeometry,\n  Float32BufferAttribute: Float32BufferAttribute\n};\n\n// support both modes for backwards threejs compatibility\nvar setAttributeFn = new THREE.BufferGeometry().setAttribute ? 'setAttribute' : 'addAttribute';\nvar GeoJsonGeometry = /*#__PURE__*/function (_THREE$BufferGeometry) {\n  function GeoJsonGeometry(geoJson) {\n    var _this;\n    var radius = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var resolution = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n    _classCallCheck(this, GeoJsonGeometry);\n    _this = _callSuper(this, GeoJsonGeometry);\n    _this.type = 'GeoJsonGeometry';\n    _this.parameters = {\n      geoJson: geoJson,\n      radius: radius,\n      resolution: resolution\n    };\n\n    // process various geometry types\n    var groups = ({\n      Point: genPoint,\n      MultiPoint: genMultiPoint,\n      LineString: genLineString,\n      MultiLineString: genMultiLineString,\n      Polygon: genPolygon,\n      MultiPolygon: genMultiPolygon\n    }[geoJson.type] || function () {\n      return [];\n    })(geoJson.coordinates, radius);\n\n    // concat groups\n    var indices = [],\n      vertices = [];\n    var groupCnt = 0;\n    groups.forEach(function (newG) {\n      var prevIndCnt = indices.length;\n      concatGroup({\n        indices: indices,\n        vertices: vertices\n      }, newG);\n      _this.addGroup(prevIndCnt, indices.length - prevIndCnt, groupCnt++);\n    });\n\n    // build geometry\n    indices.length && _this.setIndex(indices);\n    vertices.length && _this[setAttributeFn]('position', new THREE.Float32BufferAttribute(vertices, 3));\n\n    //\n\n    function genPoint(coords, r) {\n      var vertices = polar2Cartesian(coords[1], coords[0], r + (coords[2] || 0));\n      var indices = [];\n      return [{\n        vertices: vertices,\n        indices: indices\n      }];\n    }\n    function genMultiPoint(coords, r) {\n      var result = {\n        vertices: [],\n        indices: []\n      };\n      coords.map(function (c) {\n        return genPoint(c, r);\n      }).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 1),\n          newPnt = _ref2[0];\n        concatGroup(result, newPnt);\n      });\n      return [result];\n    }\n    function genLineString(coords, r) {\n      var coords3d = interpolateLine(coords, resolution).map(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 3),\n          lng = _ref4[0],\n          lat = _ref4[1],\n          _ref4$ = _ref4[2],\n          alt = _ref4$ === void 0 ? 0 : _ref4$;\n        return polar2Cartesian(lat, lng, r + alt);\n      });\n      var _earcutFlatten = flatten([coords3d]),\n        vertices = _earcutFlatten.vertices;\n      var numPoints = Math.round(vertices.length / 3);\n      var indices = [];\n      for (var vIdx = 1; vIdx < numPoints; vIdx++) {\n        indices.push(vIdx - 1, vIdx);\n      }\n      return [{\n        vertices: vertices,\n        indices: indices\n      }];\n    }\n    function genMultiLineString(coords, r) {\n      var result = {\n        vertices: [],\n        indices: []\n      };\n      coords.map(function (c) {\n        return genLineString(c, r);\n      }).forEach(function (_ref5) {\n        var _ref6 = _slicedToArray(_ref5, 1),\n          newLine = _ref6[0];\n        concatGroup(result, newLine);\n      });\n      return [result];\n    }\n    function genPolygon(coords, r) {\n      var coords3d = coords.map(function (coordsSegment) {\n        return interpolateLine(coordsSegment, resolution).map(function (_ref7) {\n          var _ref8 = _slicedToArray(_ref7, 3),\n            lng = _ref8[0],\n            lat = _ref8[1],\n            _ref8$ = _ref8[2],\n            alt = _ref8$ === void 0 ? 0 : _ref8$;\n          return polar2Cartesian(lat, lng, r + alt);\n        });\n      });\n\n      // Each point generates 3 vertice items (x,y,z).\n      var _earcutFlatten2 = flatten(coords3d),\n        vertices = _earcutFlatten2.vertices,\n        holes = _earcutFlatten2.holes;\n      var firstHoleIdx = holes[0] || Infinity;\n      var outerVertices = vertices.slice(0, firstHoleIdx * 3);\n      var holeVertices = vertices.slice(firstHoleIdx * 3);\n      var holesIdx = new Set(holes);\n      var numPoints = Math.round(vertices.length / 3);\n      var outerIndices = [],\n        holeIndices = [];\n      for (var vIdx = 1; vIdx < numPoints; vIdx++) {\n        if (!holesIdx.has(vIdx)) {\n          if (vIdx < firstHoleIdx) {\n            outerIndices.push(vIdx - 1, vIdx);\n          } else {\n            holeIndices.push(vIdx - 1 - firstHoleIdx, vIdx - firstHoleIdx);\n          }\n        }\n      }\n      var groups = [{\n        indices: outerIndices,\n        vertices: outerVertices\n      }];\n      if (holes.length) {\n        groups.push({\n          indices: holeIndices,\n          vertices: holeVertices\n        });\n      }\n      return groups;\n    }\n    function genMultiPolygon(coords, r) {\n      var outer = {\n        vertices: [],\n        indices: []\n      };\n      var holes = {\n        vertices: [],\n        indices: []\n      };\n      coords.map(function (c) {\n        return genPolygon(c, r);\n      }).forEach(function (_ref9) {\n        var _ref10 = _slicedToArray(_ref9, 2),\n          newOuter = _ref10[0],\n          newHoles = _ref10[1];\n        concatGroup(outer, newOuter);\n        newHoles && concatGroup(holes, newHoles);\n      });\n      var groups = [outer];\n      holes.vertices.length && groups.push(holes);\n      return groups;\n    }\n    return _this;\n  }\n  _inherits(GeoJsonGeometry, _THREE$BufferGeometry);\n  return _createClass(GeoJsonGeometry);\n}(THREE.BufferGeometry); //\nfunction concatGroup(main, extra) {\n  var prevVertCnt = Math.round(main.vertices.length / 3);\n  concatArr(main.vertices, extra.vertices);\n  concatArr(main.indices, extra.indices.map(function (ind) {\n    return ind + prevVertCnt;\n  }));\n}\nfunction concatArr(target, src) {\n  var _iterator = _createForOfIteratorHelper(src),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var e = _step.value;\n      target.push(e);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\nfunction polar2Cartesian(lat, lng) {\n  var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var phi = (90 - lat) * Math.PI / 180;\n  var theta = (90 - lng) * Math.PI / 180;\n  return [r * Math.sin(phi) * Math.cos(theta),\n  // x\n  r * Math.cos(phi),\n  // y\n  r * Math.sin(phi) * Math.sin(theta) // z\n  ];\n}\nexport { GeoJsonGeometry as default };","map":{"version":3,"names":["BufferGeometry","Float32BufferAttribute","flatten","geoDistance","geoInterpolate","interpolateNumber","_arrayLikeToArray","r","a","length","e","n","Array","_arrayWithHoles","isArray","_arrayWithoutHoles","_assertThisInitialized","ReferenceError","_callSuper","t","o","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","apply","_classCallCheck","TypeError","_createClass","Object","defineProperty","writable","_createForOfIteratorHelper","Symbol","iterator","_unsupportedIterableToArray","F","s","done","value","f","u","call","next","return","setPrototypeOf","getPrototypeOf","bind","__proto__","_inherits","prototype","create","configurable","_setPrototypeOf","Boolean","valueOf","_iterableToArray","from","_iterableToArrayLimit","l","i","push","_nonIterableRest","_nonIterableSpread","_slicedToArray","_toConsumableArray","toString","slice","name","test","interpolateLine","lineCoords","arguments","undefined","maxDegDistance","result","prevPnt","forEach","pnt","dist","Math","PI","geoInterpol","altInterpol","interpol","concat","tStep","ceil","THREE","window","setAttributeFn","setAttribute","GeoJsonGeometry","_THREE$BufferGeometry","geoJson","_this","radius","resolution","type","parameters","groups","Point","genPoint","MultiPoint","genMultiPoint","LineString","genLineString","MultiLineString","genMultiLineString","Polygon","genPolygon","MultiPolygon","genMultiPolygon","coordinates","indices","vertices","groupCnt","newG","prevIndCnt","concatGroup","addGroup","setIndex","coords","polar2Cartesian","map","c","_ref","_ref2","newPnt","coords3d","_ref3","_ref4","lng","lat","_ref4$","alt","_earcutFlatten","numPoints","round","vIdx","_ref5","_ref6","newLine","coordsSegment","_ref7","_ref8","_ref8$","_earcutFlatten2","holes","firstHoleIdx","Infinity","outerVertices","holeVertices","holesIdx","Set","outerIndices","holeIndices","has","outer","_ref9","_ref10","newOuter","newHoles","main","extra","prevVertCnt","concatArr","ind","target","src","_iterator","_step","err","phi","theta","sin","cos","default"],"sources":["/Users/Nils_1/Downloads/casa-react-v2/node_modules/three-geojson-geometry/dist/three-geojson-geometry.mjs"],"sourcesContent":["import { BufferGeometry, Float32BufferAttribute } from 'three';\nimport { flatten } from 'earcut';\nimport { geoDistance, geoInterpolate } from 'd3-geo';\nimport { interpolateNumber } from 'd3-interpolate';\n\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return _arrayLikeToArray(r);\n}\nfunction _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nfunction _callSuper(t, o, e) {\n  return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, [], _getPrototypeOf(t).constructor) : o.apply(t, e));\n}\nfunction _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nfunction _createClass(e, r, t) {\n  return Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nfunction _createForOfIteratorHelper(r, e) {\n  var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (!t) {\n    if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e) {\n      t && (r = t);\n      var n = 0,\n        F = function () {};\n      return {\n        s: F,\n        n: function () {\n          return n >= r.length ? {\n            done: !0\n          } : {\n            done: !1,\n            value: r[n++]\n          };\n        },\n        e: function (r) {\n          throw r;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var o,\n    a = !0,\n    u = !1;\n  return {\n    s: function () {\n      t = t.call(r);\n    },\n    n: function () {\n      var r = t.next();\n      return a = r.done, r;\n    },\n    e: function (r) {\n      u = !0, o = r;\n    },\n    f: function () {\n      try {\n        a || null == t.return || t.return();\n      } finally {\n        if (u) throw o;\n      }\n    }\n  };\n}\nfunction _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && _setPrototypeOf(t, e);\n}\nfunction _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function () {\n    return !!t;\n  })();\n}\nfunction _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == typeof e || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return _assertThisInitialized(t);\n}\nfunction _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\nfunction _toConsumableArray(r) {\n  return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread();\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\n\nvar interpolateLine = function interpolateLine() {\n  var lineCoords = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var maxDegDistance = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var result = [];\n  var prevPnt = null;\n  lineCoords.forEach(function (pnt) {\n    if (prevPnt) {\n      var dist = geoDistance(pnt, prevPnt) * 180 / Math.PI;\n      if (dist > maxDegDistance) {\n        var geoInterpol = geoInterpolate(prevPnt, pnt);\n        var altInterpol = prevPnt.length > 2 || pnt.length > 2 ? interpolateNumber(prevPnt[2] || 0, pnt[2] || 0) : null;\n        var interpol = altInterpol ? function (t) {\n          return [].concat(_toConsumableArray(geoInterpol(t)), [altInterpol(t)]);\n        } : geoInterpol;\n        var tStep = 1 / Math.ceil(dist / maxDegDistance);\n        var t = tStep;\n        while (t < 1) {\n          result.push(interpol(t));\n          t += tStep;\n        }\n      }\n    }\n    result.push(prevPnt = pnt);\n  });\n  return result;\n};\n\nvar THREE = typeof window !== 'undefined' && window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  BufferGeometry: BufferGeometry,\n  Float32BufferAttribute: Float32BufferAttribute\n};\n\n// support both modes for backwards threejs compatibility\nvar setAttributeFn = new THREE.BufferGeometry().setAttribute ? 'setAttribute' : 'addAttribute';\nvar GeoJsonGeometry = /*#__PURE__*/function (_THREE$BufferGeometry) {\n  function GeoJsonGeometry(geoJson) {\n    var _this;\n    var radius = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var resolution = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n    _classCallCheck(this, GeoJsonGeometry);\n    _this = _callSuper(this, GeoJsonGeometry);\n    _this.type = 'GeoJsonGeometry';\n    _this.parameters = {\n      geoJson: geoJson,\n      radius: radius,\n      resolution: resolution\n    };\n\n    // process various geometry types\n    var groups = ({\n      Point: genPoint,\n      MultiPoint: genMultiPoint,\n      LineString: genLineString,\n      MultiLineString: genMultiLineString,\n      Polygon: genPolygon,\n      MultiPolygon: genMultiPolygon\n    }[geoJson.type] || function () {\n      return [];\n    })(geoJson.coordinates, radius);\n\n    // concat groups\n    var indices = [],\n      vertices = [];\n    var groupCnt = 0;\n    groups.forEach(function (newG) {\n      var prevIndCnt = indices.length;\n      concatGroup({\n        indices: indices,\n        vertices: vertices\n      }, newG);\n      _this.addGroup(prevIndCnt, indices.length - prevIndCnt, groupCnt++);\n    });\n\n    // build geometry\n    indices.length && _this.setIndex(indices);\n    vertices.length && _this[setAttributeFn]('position', new THREE.Float32BufferAttribute(vertices, 3));\n\n    //\n\n    function genPoint(coords, r) {\n      var vertices = polar2Cartesian(coords[1], coords[0], r + (coords[2] || 0));\n      var indices = [];\n      return [{\n        vertices: vertices,\n        indices: indices\n      }];\n    }\n    function genMultiPoint(coords, r) {\n      var result = {\n        vertices: [],\n        indices: []\n      };\n      coords.map(function (c) {\n        return genPoint(c, r);\n      }).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 1),\n          newPnt = _ref2[0];\n        concatGroup(result, newPnt);\n      });\n      return [result];\n    }\n    function genLineString(coords, r) {\n      var coords3d = interpolateLine(coords, resolution).map(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 3),\n          lng = _ref4[0],\n          lat = _ref4[1],\n          _ref4$ = _ref4[2],\n          alt = _ref4$ === void 0 ? 0 : _ref4$;\n        return polar2Cartesian(lat, lng, r + alt);\n      });\n      var _earcutFlatten = flatten([coords3d]),\n        vertices = _earcutFlatten.vertices;\n      var numPoints = Math.round(vertices.length / 3);\n      var indices = [];\n      for (var vIdx = 1; vIdx < numPoints; vIdx++) {\n        indices.push(vIdx - 1, vIdx);\n      }\n      return [{\n        vertices: vertices,\n        indices: indices\n      }];\n    }\n    function genMultiLineString(coords, r) {\n      var result = {\n        vertices: [],\n        indices: []\n      };\n      coords.map(function (c) {\n        return genLineString(c, r);\n      }).forEach(function (_ref5) {\n        var _ref6 = _slicedToArray(_ref5, 1),\n          newLine = _ref6[0];\n        concatGroup(result, newLine);\n      });\n      return [result];\n    }\n    function genPolygon(coords, r) {\n      var coords3d = coords.map(function (coordsSegment) {\n        return interpolateLine(coordsSegment, resolution).map(function (_ref7) {\n          var _ref8 = _slicedToArray(_ref7, 3),\n            lng = _ref8[0],\n            lat = _ref8[1],\n            _ref8$ = _ref8[2],\n            alt = _ref8$ === void 0 ? 0 : _ref8$;\n          return polar2Cartesian(lat, lng, r + alt);\n        });\n      });\n\n      // Each point generates 3 vertice items (x,y,z).\n      var _earcutFlatten2 = flatten(coords3d),\n        vertices = _earcutFlatten2.vertices,\n        holes = _earcutFlatten2.holes;\n      var firstHoleIdx = holes[0] || Infinity;\n      var outerVertices = vertices.slice(0, firstHoleIdx * 3);\n      var holeVertices = vertices.slice(firstHoleIdx * 3);\n      var holesIdx = new Set(holes);\n      var numPoints = Math.round(vertices.length / 3);\n      var outerIndices = [],\n        holeIndices = [];\n      for (var vIdx = 1; vIdx < numPoints; vIdx++) {\n        if (!holesIdx.has(vIdx)) {\n          if (vIdx < firstHoleIdx) {\n            outerIndices.push(vIdx - 1, vIdx);\n          } else {\n            holeIndices.push(vIdx - 1 - firstHoleIdx, vIdx - firstHoleIdx);\n          }\n        }\n      }\n      var groups = [{\n        indices: outerIndices,\n        vertices: outerVertices\n      }];\n      if (holes.length) {\n        groups.push({\n          indices: holeIndices,\n          vertices: holeVertices\n        });\n      }\n      return groups;\n    }\n    function genMultiPolygon(coords, r) {\n      var outer = {\n        vertices: [],\n        indices: []\n      };\n      var holes = {\n        vertices: [],\n        indices: []\n      };\n      coords.map(function (c) {\n        return genPolygon(c, r);\n      }).forEach(function (_ref9) {\n        var _ref10 = _slicedToArray(_ref9, 2),\n          newOuter = _ref10[0],\n          newHoles = _ref10[1];\n        concatGroup(outer, newOuter);\n        newHoles && concatGroup(holes, newHoles);\n      });\n      var groups = [outer];\n      holes.vertices.length && groups.push(holes);\n      return groups;\n    }\n    return _this;\n  }\n  _inherits(GeoJsonGeometry, _THREE$BufferGeometry);\n  return _createClass(GeoJsonGeometry);\n}(THREE.BufferGeometry); //\nfunction concatGroup(main, extra) {\n  var prevVertCnt = Math.round(main.vertices.length / 3);\n  concatArr(main.vertices, extra.vertices);\n  concatArr(main.indices, extra.indices.map(function (ind) {\n    return ind + prevVertCnt;\n  }));\n}\nfunction concatArr(target, src) {\n  var _iterator = _createForOfIteratorHelper(src),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var e = _step.value;\n      target.push(e);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\nfunction polar2Cartesian(lat, lng) {\n  var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var phi = (90 - lat) * Math.PI / 180;\n  var theta = (90 - lng) * Math.PI / 180;\n  return [r * Math.sin(phi) * Math.cos(theta),\n  // x\n  r * Math.cos(phi),\n  // y\n  r * Math.sin(phi) * Math.sin(theta) // z\n  ];\n}\n\nexport { GeoJsonGeometry as default };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}